@inherits Umbraco.Web.Macros.PartialViewMacroPage

@{
    var bookmarkId = Model.MacroParameters["bookmarkId"].TryConvertTo<int>();
    //int bookmarkId = bookmarkIdParam.TryConvertTo();
    var cs = ApplicationContext.Services.ContentService;
    var bookmark = cs.GetById(bookmarkId.Result);


    string favIconService = "http://www.google.com/s2/favicons?domain_url=";
    string linkUrl = Url.Encode(bookmark.GetValue("link").ToString());
    string favIconUrl = favIconService + linkUrl;
}

<!-- Favicon -->
<div class="bookmark-favicon">
    <img src="@favIconUrl" />
</div>
<!-- Title and URL -->
<div class="bookmark-content">
    <a href="@bookmark.GetValue("link")" alt="@bookmark.GetValue("title")">
        <h1>
            @bookmark.GetValue("title")
        </h1>
        <p>@bookmark.GetValue("link")</p>
    </a>
    <!-- TODO Tags-->
    @*
        <% if !bookmark.tags.empty? %>
        <div class="bookmark-tags">
            <% bookmark.tags.each do |tag| %>
            <%= link_to tag do %>
            <span class="label label-<%= tag.color %>"><%= tag.title %></span>
            <% end %>
            <% end %>
        </div>
        <% end %>
    *@
</div>

<!-- Edit -->
<div class="bookmark-action">
    <!-- TODO Link/Controller action -->
    <a href="#"><span class="glyphicon glyphicon-edit"></span></a>
</div>

<!-- Delete -->
<div class="bookmark-action">
    <!-- TODO Link/controller action -->
    <!-- TODO Confirmation -->
    <a href="#"><span class="glyphicon glyphicon-trash"></span></a>
</div>